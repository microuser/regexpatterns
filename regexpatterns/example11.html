<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta, title, CSS, favicons, etc. -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>Regex Pattern Example</title>
        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <!-- Documentation extras -->
        <link href="css/docs.css" rel="stylesheet">
        <link href="css/pygments-manni.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
        <!-- Favicons -->
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
        <link rel="shortcut icon" href="img/favicon.ico">
    </head>
    <body>
        <div class="container bs-docs-container">
            <div class="row">
                <div class="col-md-12" role="main">
                    <!-- Dropdowns ================================================== -->
                    <div class="bs-docs-section">
                        <div class="page-header">
                            <h1 id="validator">A capture repeats<small></small></h1>
                        </div>
                        <ul>
                            <li>repetition is specified by placing the number of times a pattern repeats in curly brackets like &quot;.{3}&quot;</li>
                            <li>a pattern can represent a sequence of multiple characters if surrounded by parenthesis &quot;(ab){3}&quot;</li>
                            <li>Combine above information and use one or more repetition of any character for the pattern in the parenthesis (.+)</li>
                        </ul>
                        <div>
                            <form data-toggle="validator" role="form" id="form">


                                <div class="row">
                                    <div class="col-sm-12">

                                        <!-- Input -->
                                        <div class="form-group has-feedback" >
                                            <label for="regex" class="control-label">Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" id="regex" class="form-control" value="" required>
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block">Type your regex pattern here</div>
                                        </div>

                                    </div>
                                </div>



                                <!-- MATCH -->
                                <div class="row">

                                    <div class="col-sm-6">

                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control"  required
                                                    value="triple aaa">
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>

                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control"  required
                                                    value="triple bbb">
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>


                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control"  required
                                                    value="triple ababab">
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>


                                    </div>                                     

                                    <!-- NOT MATCH -->
                                    <div class="col-sm-6">

                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Don't Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control" opposite 
                                                value="aaa" >
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>


                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Don't Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control" opposite 
                                                value="ababab" >
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>



                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Don't Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control" opposite 
                                                value="Wagon Wheel" >
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>


                                    </div>
                                </div>        
                                <button type="submit" class="btn btn-primary" id="submit">
                                        Validate</button>                     
                            </form>

                        </div>
                    </div>   


                </div>


            </div>

        </div>


    </div>


    <!-- Footer
    ================================================== -->

    <footer class="bs-footer" role="contentinfo">

        <div class="container">

        </div>
    </footer>


    <!-- JS and analytics only. -->

    <!-- Bootstrap core JavaScript
================================================== -->

    <!-- Placed at the end of the document so the pages load faster -->

    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/bootstrap.3.3.7.min.js"></script>
    <script src="js/validator.js"></script>
    <script src="js/widgets.js"></script>
    <script src="js/application.js"></script>

    <script>
        $(document).ready(function () {

            $('#regex').on('keyup change', function () {
                $regexValue = this.value;
                $('#form').find('input').each(function () {
                    if ($(this).prop('required')) {
                        if (this.id !== "regex") {
                            //if(this.id.startsWith('not')){
                            //    $(this).attr('pattern', "(?!("+$regexValue+"))");
                            //} else {
                                $(this).attr('pattern', $regexValue);
                            //}
                            
                            $('#form').validator('update');
                            $('#form').validator('validate');
                        }                       
                    }
                });
                //$(this).focus();
            });
            
            $('form').validator({
                focus: false,
            }).on('submit', function (e) {
                if(e.isDefaultPrevented()){
                     $('#form').validator('update');
                     $('#form').validator('validate');
                } else {
                    $('#form').find().each(function () {
                        if (this.id !== "regex") {
                            $(this).hide();
                            $(this).empty();
                        }                       
                    
                    });
                    //$('form').validator('destroy');
                    //$('#form').parent().parent().hide();
                    //$('#form')
                    //.parent().parent().parent().Find('submit')
                    $(":submit").parent().append(
                        "<h1 style=\"color:green; font-size: 40px;\">Pass: <pre>"
                        + $("<div />").text($('#regex')[0].value).html()
                        + "</pre></h1>");
                    $(":submit").hide();
                    e.preventDefault();
                    //$('html, body', window.parent.document).animate({scrollTop:0}, 'slow');


                }
            });

            $("form").submit(function(e){
                  $('#form').find().each(function () {
                        if (this.id !== "regex") {
                            $(this).hide();
                            $(this).empty();
                        }                       
                    
                    });
                  e.preventDefault();
            });
            
        });
    </script>

</body>

</html>

