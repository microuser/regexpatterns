<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Meta, title, CSS, favicons, etc. -->
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>Regex Pattern Example</title>
        <!-- Bootstrap core CSS -->
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <!-- Documentation extras -->
        <link href="css/docs.css" rel="stylesheet">
        <link href="css/pygments-manni.css" rel="stylesheet">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]><script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
          <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->
        <!-- Favicons -->
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png">
        <link rel="shortcut icon" href="img/favicon.ico">
    </head>
    <body>
        <div class="container bs-docs-container">
            <div class="row">
                <div class="col-md-12" role="main">
                    <!-- Dropdowns ================================================== -->
                    <div class="bs-docs-section">
                        <div class="page-header">
                            <h1 id="validator">Ends in Period<small></small></h1>
                        </div>
                        <ul>
                            <li>and escaped period indicates a period (\.)</li>
                            <li>a dollar sign indicates a forced end of the line</li>
                            <li>an asterisk &quote;*&quote; indicates that the previous pattern may or maynot exist, and it may repeat numeriuos times. </li>
                            <li>A period with an asterisk after it represents any number of characters</li>
                            <li>Anchoring is important in most implimentations of regex. Its not always obvious when do use them as can often get away with not using them. In general. If you are expecting an end of string. Explicitly tell regex that are you. Using an anchor also makes it run faster.
                        </ul>
                        <div>
                            <form data-toggle="validator" role="form" id="form">


                                <div class="row">
                                    <div class="col-sm-12">

                                        <!-- Input -->
                                        <div class="form-group has-feedback" >
                                            <label for="regex" class="control-label">Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" id="regex" class="form-control" value="" required>
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block">Type your regex pattern here</div>
                                        </div>

                                    </div>
                                </div>



                                <!-- MATCH -->
                                <div class="row">

                                    <div class="col-sm-6">

                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control"  required
                                                    value="1.">
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>

                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control"  required
                                                    value="Mr.">
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>

                                    </div>                                     

                                    <!-- NOT MATCH -->
                                    <div class="col-sm-6">

                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Don't Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control" opposite required value="Etc. and more" >
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>

                                        <div class="form-group has-feedback" >
                                            <label for="inputTwitter" class="control-label">Don't Match</label>
                                            <div class="input-group">
                                                <span class="input-group-addon"></span>
                                                <input type="text" pattern="" class="form-control" opposite required value="1.0" >
                                            </div>
                                            <span class="glyphicon form-control-feedback" aria-hidden="true"></span>
                                            <div class="help-block"></div>
                                        </div>



                                    </div>
                                </div>        
                                <button type="submit" class="btn btn-primary" id="submit">
                                        Validate</button>                     
                            </form>

                        </div>
                    </div>   


                </div>


            </div>

        </div>


    </div>


    <!-- Footer
    ================================================== -->

    <footer class="bs-footer" role="contentinfo">

        <div class="container">

        </div>
    </footer>


    <!-- JS and analytics only. -->

    <!-- Bootstrap core JavaScript
================================================== -->

    <!-- Placed at the end of the document so the pages load faster -->

    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/bootstrap.3.3.7.min.js"></script>
    <script src="js/validator.js"></script>
    <script src="js/widgets.js"></script>
    <script src="js/application.js"></script>

    <script>
        $(document).ready(function () {

            $('#regex').on('keyup change', function () {
                $regexValue = this.value;
                $('#form').find('input').each(function () {
                    if ($(this).prop('required')) {
                        if (this.id !== "regex") {
                            //if(this.id.startsWith('not')){
                            //    $(this).attr('pattern', "(?!("+$regexValue+"))");
                            //} else {
                                $(this).attr('pattern', $regexValue);
                            //}
                            
                            $('#form').validator('update');
                            $('#form').validator('validate');
                        }                       
                    }
                });
                //$(this).focus();
            });
            
            $('form').validator({
                focus: false,
            }).on('submit', function (e) {
                if(e.isDefaultPrevented()){
                     $('#form').validator('update');
                     $('#form').validator('validate');
                } else {
                    $('#form').find().each(function () {
                        if (this.id !== "regex") {
                            $(this).hide();
                            $(this).empty();
                        }                       
                    
                    });
                    //$('form').validator('destroy');
                    //$('#form').parent().parent().hide();
                    //$('#form')
                    //.parent().parent().parent().Find('submit')
                    $(":submit").parent().append(
                        "<h1 style=\"color:green; font-size: 40px;\">Pass: <pre>"
                        + $("<div />").text($('#regex')[0].value).html()
                        + "</pre></h1>");
                    $(":submit").hide();
                    e.preventDefault();
                    //$('html, body', window.parent.document).animate({scrollTop:0}, 'slow');


                }
            });

            $("form").submit(function(e){
                  $('#form').find().each(function () {
                        if (this.id !== "regex") {
                            $(this).hide();
                            $(this).empty();
                        }                       
                    
                    });
                  e.preventDefault();
            });
            
        });
    </script>

</body>

</html>

